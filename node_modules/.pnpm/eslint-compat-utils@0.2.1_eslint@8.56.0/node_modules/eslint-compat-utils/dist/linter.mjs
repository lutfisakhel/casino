import * as eslint from 'eslint';
import * as semver from 'semver';
import { c as convertConfigToRc } from './shared/eslint-compat-utils.7bec2911.mjs';
import 'module';

let cacheLinter;
function getLinter() {
  return cacheLinter != null ? cacheLinter : cacheLinter = getLinterInternal();
  function getLinterInternal() {
    if (semver.gte(eslint.Linter.version, "9.0.0-0")) {
      return eslint.Linter;
    }
    return getLinterClassForV8();
  }
}
function getLinterClassForV8() {
  return class LinterForV8 extends eslint.Linter {
    static get version() {
      return eslint.Linter.version;
    }
    verify(code, config, option) {
      const newConfig = convertConfigToRc(config, this);
      return super.verify(code, newConfig, option);
    }
  };
}

export { getLinter };
